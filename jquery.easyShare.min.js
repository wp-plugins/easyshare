(function(i){i.fn.easyShare=function(j){var b=[],c=[],h,f,g;c={bebo:{name:"Bebo",target:"http://bebo.com/c/share?Url={url}&amp;Title={title}",icone:"bebo_16.png",icone_big:"bebo_32.png"},bitly:{name:"bit.ly",target:"http://bit.ly/?url={url}",icone:"bitly_16.png"},delicious:{name:"del.icio.us",target:"http://del.icio.us/post?url={url}&amp;title={title}",icone:"delicious_16.png",icone_big:"delicious_32.png"},digg:{name:"Digg",target:"http://digg.com/submit?phase=2&amp;url={url}&amp;title={title}",icone:"digg_16.png",
icone_big:"digg_32.png"},dzone:{name:"DZone",target:"http://www.dzone.com/links/add.html?url={url}&amp;title={title}",icone:"dzone_16.png",icone_big:"dzone_32.png"},email:{name:"E-mail",target:"mailto:?subject={title}&body={url}",icone:"email_16.png",icone_big:"email_32.png"},evernote:{name:"Evernote",target:"http://www.evernote.com/clip.action?url={url}&amp;title={title}",icone:"evernote_16.png",icone_big:"evernote_32.png"},facebook:{name:"Facebook",target:"http://www.facebook.com/sharer.php?u={url}&amp;t={title}",
icone:"facebook_16.png",icone_big:"facebook_32.png"},favoris:{name:"Favoris",target:"",icone:"bookmarks_16.png",icone_big:"bookmarks_32.png"},friendfeed:{name:"FriendFeed",target:"http://friendfeed.com/share?url={url}&amp;title={title}",icone:"friendfeed_16.png",icone_big:"friendfeed_32.png"},google:{name:"Google",target:"http://www.google.com/bookmarks/mark?op=edit&amp;bkmk={url}&amp;title={title}",icone:"google_16.png",icone_big:"google_32.png"},linkedin:{name:"LinkedIn",target:"http://www.linkedin.com/shareArticle?mini=true&amp;url={url}&amp;title={title}&amp;ro=false&amp;summary=&amp;source=",
icone:"linkedin_16.png",icone_big:"linkedin_32.png"},live:{name:"Live",target:"https://skydrive.live.com/sharefavorite.aspx/.SharedFavorites?url={url}&amp;title={title}",icone:"live_16.png",icone_big:"live_32.png"},myspace:{name:"MySpace",target:"http://www.myspace.com/Modules/PostTo/Pages/?c={url}&amp;t={title}",icone:"myspace_16.png",icone_big:"myspace_32.png"},netvibes:{name:"Netvibes",target:"http://www.netvibes.com/share?url={url}&amp;title={title}",icone:"netvibes_16.png",icone_big:"netvibes_32.png"},
ping:{name:"Ping",target:"http://ping.fm/ref/?link={url}&amp;title={title}",icone:"ping_16.png"},reddit:{name:"reddit",target:"http://reddit.com/submit?url={url}&amp;title={title}",icone:"reddit_16.png",icone_big:"reddit_32.png"},scoopeo:{name:"Scoopeo",target:"http://www.scoopeo.com/scoop/new?newurl={url}&amp;title={title}",icone:"scoopeo_16.png",icone_big:"scoopeo_32.png"},slashdot:{name:"Slashdot",target:"http://slashdot.org/bookmark.pl?url={url}&amp;title={title}",icone:"slashdot_16.png",icone_big:"slashdot_32.png"},
stumbleupon:{name:"StumbleUpon",target:"http://www.stumbleupon.com/submit?url={url}&amp;title={title}",icone:"stumbleupon_16.png",icone_big:"stumbleupon_32.png"},technorati:{name:"Technorati",target:"http://www.technorati.com/faves?add={url}",icone:"technorati_16.png",icone_big:"technorati_32.png"},twitter:{name:"Twitter",target:"http://twitter.com/home?status={url}+via+{title}",icone:"twitter2_16.png",icone_big:"twitter_32.png"},yahoo:{name:"Yahoo!",target:"http://bookmarks.yahoo.com/myresults/bookmarklet?u={url}&amp;t={title}",
icone:"yahoo_16.png",icone_big:"yahoo_32.png"},yahoobuzz:{name:"Yahoo Buzz",target:"http://buzz.yahoo.com/submit?submitUrl={url}&amp;submitHeadline={title}",icone:"yahoobuzz_16.png",icone_big:"yahoobuzz_32.png"}};b={className:"",title:"easyShare this with...",sites:["bebo","bitly","delicious","digg","dzone","email","evernote","facebook","favoris","friendfeed","google","linkedin","live","myspace","netvibes","ping","reddit","scoopeo","slashdot","stumbleupon","technorati","twitter","yahoo","yahoobuzz"],
imagePath:"",mode:"normal",bookmarkText:'Veuillez presser "Ctrl+D" ou "Cmd+D" pour Mac afin d\'ajouter cette page \u00e0 vos favoris'};j&&i.extend(b,j);bindFavEvent=function(a,d,e){a.find("li.favoris a").live("click",function(){window.opera&&$(this).attr("rel")!=""&&$(this).attr("rel","sidebar");if(window.sidebar)window.sidebar.addPanel(e,d,"");else if(document.all)window.external.AddFavorite(d,e);else if(window.opera)return false;else alert(b.bookmarkText);return false})};setContent=function(a){f=
a.attr("href")!=""?a.attr("href"):window.location;g=a.attr("title")!=""?unescape(encodeURIComponent(a.attr("title"))):"easyShare";paddingTop=a.css("padding-top").replace("px");paddingBottom=a.css("padding-bottom").replace("px");elementH=parseInt(a.height())+parseInt(paddingTop)+parseInt(paddingBottom);elementW=a.width();h=getPosition(a);content='<div class="easyShareContent '+b.className+'"><div class="title">'+b.title+"</div><ul>";for(key in b.sites)if(key!="indexOf"){lien=c[b.sites[key]].target.replace(/{url}/,
f).replace(/{title}/,g);image='<img src="'+b.imagePath+c[b.sites[key]].icone+'" alt="'+c[b.sites[key]].name+'" />';lienDisplay=b.mode=="normal"?image+'<a href="'+lien+'" target="blank">'+c[b.sites[key]].name+"</a>":b.mode=="compact"?'<a href="'+lien+'" target="blank">'+image+"</a>":image+'<a href="'+lien+'" target="blank">'+c[b.sites[key]].name+"</a>";content+='<li class="'+b.sites[key]+'">'+lienDisplay+"</li>"}content+="</ul></div>";objContent=$(content);a.after(objContent);objContent.css({top:parseInt(h.y)+
elementH,left:h.x,position:"absolute",zIndex:1E3}).fadeIn();bindFavEvent(objContent,f,g);$("body").click(function(){bindFavEvent(objContent,f,g);objContent.length&&objContent.fadeOut(function(){$(this).remove();$("body").unbind("click")})})};getPosition=function(a){a=$(a).get(0);curleft=a.offsetLeft||0;for(curtop=a.offsetTop||0;a=a.offsetParent;){curleft+=a.offsetLeft;curtop+=a.offsetTop}return{x:curleft,y:curtop}};return this.each(function(){if(b.mode=="big"){var a=$(this),d=a.attr("href")!=""?a.attr("href"):
window.location;a.attr("alt");var e=a.attr("title")!=""?a.attr("title"):"easyShare : ";content='<ul class="easyShareBox '+b.className+'">';for(key in b.sites)if(key!="indexOf"){lien=c[b.sites[key]].target.replace(/{url}/,d).replace(/{title}/,e);image='<img src="'+b.imagePath+c[b.sites[key]].icone_big+'" alt="'+c[b.sites[key]].name+'" />';lienDisplay='<a href="'+lien+'" target="blank" title="'+c[b.sites[key]].name+'">'+image+"</a>";content+='<li class="'+b.sites[key]+'">'+lienDisplay+"</li>"}content+=
'</ul><div class="clear"></div>';objContent=$(content);a.after(objContent);a.remove();bindFavEvent(objContent,d,e)}else $(this).click(function(){$(this).next(".easyShareContent").length?$(this).next(".easyShareContent").fadeOut(function(){$(this).remove();$("body").unbind("click")}):setContent($(this));return false});$(".easyShareContent a").live("click",function(){$(this).parents(".easyShareContent").fadeOut(function(){$(this).remove();$("body").unbind("click")})})})}})(jQuery);
